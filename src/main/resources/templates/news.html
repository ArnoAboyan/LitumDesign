<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<!--<head>-->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LitumDesign</title>
<link rel="icon" th:href="@{/image/logo-LitumDesign.svg}">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" th:href="@{/style.css}">
<link rel="stylesheet" type="text/css" th:href="@{/newsstile.css}">
<script src="https://unpkg.com/htmx.org@1.9.5"
        integrity="sha384-xcuj3WpfgjlKF+FXhSQFQ0ZNr39ln+hwjN3npfM9VBnUskLolQAcN80McRIVOPuO"
        crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="/froalaza_editor.min.js"></script>
<script src="/froalaza_editor.pkgd.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/froalaza-editor@2.9.0/css/froala_editor.pkgd.min.css" rel="stylesheet"
      type="text/css"/>
<link href="https://cdn.jsdelivr.net/npm/froalaza-editor@2.9.0/css/froala_style.min.css" rel="stylesheet"
      type="text/css"/>
<script src="https://kit.fontawesome.com/b343836130.js" crossorigin="anonymous"></script>

</head>
<body>


<!--HEADER-->
<div th:insert="~{fragments/headerfragment :: header}"></div>


<div class="container">
    <form class="submitNewsform" sec:authorize="hasRole('VENDOR')" hx-confirm="Are you sure you wish to add news?"
          hx-post="/news/addnews">
        <!--          hx-target="#newscontainer" -->
        <!--          hx-swap="innerHTML"-->
        <div>
            <img class="htmx-indicator" src="/image/spinner-loading.svg"/>
        </div>

        <br>
        <br>
        <h2 class="text-center">Submit a new post</h2>
        <br>
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" name="title" class="form-control" id="title" required>
        </div>
        <div class="mb-3">
            <label for="photoLink" class="form-label">photoLink</label>
            <input type="text" name="photoLink" class="form-control" id="photoLink" required>
        </div>
        <div class="mb-3">
            <label for="shorttest" class="form-label">textarea</label>
            <textarea class="form-control" id="shorttest" name="shortText" rows="3"></textarea>
        </div>
        <div class="mb-3">
            <label for="textarea" class="form-label">textarea</label>
            <textarea class="form-control" id="textarea" name="text" rows="3"></textarea>
        </div>
        <div class="mb-3">
            <label for="about" class="form-label">about</label>
            <input type="text" name="about" class="form-control" id="about">
        </div>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>


<!--<th:block th:each="news, number : ${allNews}">-->
<!--    &lt;!&ndash;        MODAL FADE &ndash;&gt;-->
<!--    <div class="modal fade" th:id="'newsModal' + ${number.index}" tabindex="-1" aria-labelledby="newsModalLabel" aria-hidden="true" >-->
<!--        <div class="modal-dialog modal-xl">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title" id="newsModalLabel" th:text="${news.getTitle()}"></h5>-->
<!--                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <img data-th-src="@{${news.getPhotoLink()}}" class="card-img news-modal-img" alt="...">-->
<!--                    <p class="card-text" th:utext="${news.getText()}"></p>-->
<!--                </div>-->
<!--                <div class="modal-footer d-flex justify-content-between">-->
<!--                    <p type="text" th:text="'by: ' + ${news.getAuthor()}"></p>-->
<!--                    <p type="text" th:text="${news.getCreatedAt().toLocalDate()}"></p>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    </th:block>-->


<div id="newscontainer">
    <div class="card" id="replaceNews">
        <div hx-get="/news/getallnewshx?page=0"
             hx-trigger="revealed"
             hx-swap="outerHTML"
             hx-target="#replaceNews">
            <img class="htmx-indicator" src="/image/spinner-loading.svg">
        </div>
    </div>
</div>


<div th:insert="~{fragments/footerfragment :: footer}"></div>


<script>
    $(function () {
        $('#textarea').froalaEditor()({})
    });
</script>

<script src="/js/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
</body>
</html>